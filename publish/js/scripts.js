function initUpperRooms(){$("#upper_a-finan").mouseenter(function(){showText(0,"upper_a-finan_text")});$("#upper_a-finan").mouseleave(function(){if($("#video").css("display")=="none"){$("#upper_a-finan_text").fadeOut(700)}});$("#upper_a-finan").click(function(a){a.preventDefault();loadRoom(0);$("#shadow").css("background-color","rgba(0,0,0,0.6)");$("#shadow").css("z-index","8")});$("#upper_aisle-inf3").mouseenter(function(){showText(1,"upper_aisle-inf3_text")});$("#upper_aisle-inf3").mouseleave(function(){if($("#video").css("display")=="none"){$("#upper_aisle-inf3_text").fadeOut(700)}});$("#upper_aisle-inf3").click(function(a){a.preventDefault();loadRoom(1);$("#shadow").css("background-color","rgba(0,0,0,0.6)");$("#shadow").css("z-index","8")})}function initLowerPlants(){$("#lowerplantsmall").mouseenter(function(){$("#shadow").fadeIn(700);$("#lowerplantbig").fadeIn(700)});$("#lowerplantbig").mouseleave(function(){$("#shadow").fadeOut(700);$("#lowerplantbig").fadeOut(700)})}function initUpperPlants(){$("#upperplantbig").mouseleave(function(){if($("#shadow").css("z-index")!="8"){$("#shadow").fadeOut(700);$("#upperplantbig").fadeOut(700)}});$("#upperplantsmall").mouseenter(function(){$("#shadow").fadeIn(700);$("#upperplantbig").fadeIn(700)})}function openLink(a){window.open(a,"_blank")}function initSVG(){$("#svgccommons").mouseenter(function(){$(this).css("cursor","pointer");$("#ccommons_circle_cc_border,#ccommons_circle_nc_border,#ccommons_circle_by_person,#ccommons_circle_by_border,#ccommons_circle_nd_border,#ccommons_circle_nd_equal,#ccommons_border,#ccommons_circle_nd_inner,#ccommons_circle_by_inner,#ccommons_circle_cc_inner,#ccommons_circle_nc_inner,#ccommons_by,#ccommons_nc,#ccommons_nd,#ccommons_inner").css("transition","fill 700ms");$("#ccommons_circle_cc_border,#ccommons_circle_nc_border,#ccommons_circle_by_person,#ccommons_circle_by_border,#ccommons_circle_nd_border,#ccommons_circle_nd_equal,#ccommons_border").css("fill","#FFFFCC");$("#ccommons_circle_nd_inner,#ccommons_circle_by_inner,#ccommons_circle_cc_inner,#ccommons_circle_nc_inner,#ccommons_by,#ccommons_nc,#ccommons_nd,#ccommons_inner").css("fill","#F9CD19")});$("#svgccommons").mouseleave(function(){$(this).css("cursor","auto");$("#ccommons_circle_cc_border,#ccommons_circle_nc_border,#ccommons_circle_by_person,#ccommons_circle_by_border,#ccommons_circle_nd_border,#ccommons_circle_nd_equal,#ccommons_border,#ccommons_circle_nd_inner,#ccommons_circle_by_inner,#ccommons_circle_cc_inner,#ccommons_circle_nc_inner,#ccommons_by,#ccommons_nc,#ccommons_nd,#ccommons_inner").css("transition","fill 700ms");$("#ccommons_circle_cc_border,#ccommons_circle_nc_border,#ccommons_circle_by_person,#ccommons_circle_by_border,#ccommons_circle_nd_border,#ccommons_circle_nd_equal,#ccommons_border").css("fill","#F9CD19");$("#ccommons_circle_nd_inner,#ccommons_circle_by_inner,#ccommons_circle_cc_inner,#ccommons_circle_nc_inner,#ccommons_by,#ccommons_nc,#ccommons_nd,#ccommons_inner").css("fill","#FFFFCC")});$("#svgxhtml5").mouseenter(function(){$(this).css("cursor","pointer");$("#xhtml5_bright1,#xhtml5_bright2,#xhtml5_bright3,#xhtml5_bright4,#xhtml5_bright5,#xhtml5_bright6,#xhtml5_number,#xhtml5_shield,#xhtml5_dark1,#xhtml5_dark2,#xhtml5_dark3,#xhtml5_dark4,#xhtml5_dark5,#xhtml5_dark6,#xhtml5_dark7,#xhtml5_dark8,#xhtml5_dark9").css("transition","fill 700ms");$("#xhtml5_bright1,#xhtml5_bright2,#xhtml5_bright3,#xhtml5_bright4,#xhtml5_bright5,#xhtml5_bright6").css("fill","#F9CD19");$("#xhtml5_number").css("fill","#E4B700");$("#xhtml5_shield,#xhtml5_dark1,#xhtml5_dark2,#xhtml5_dark3,#xhtml5_dark4,#xhtml5_dark5,#xhtml5_dark6,#xhtml5_dark7,#xhtml5_dark8,#xhtml5_dark9").css("fill","#FDF4C4")});$("#svgxhtml5").mouseleave(function(){$(this).css("cursor","auto");$("#xhtml5_bright1,#xhtml5_bright2,#xhtml5_bright3,#xhtml5_bright4,#xhtml5_bright5,#xhtml5_bright6,#xhtml5_number,#xhtml5_shield,#xhtml5_dark1,#xhtml5_dark2,#xhtml5_dark3,#xhtml5_dark4,#xhtml5_dark5,#xhtml5_dark6,#xhtml5_dark7,#xhtml5_dark8,#xhtml5_dark9").css("transition","fill 700ms");$("#xhtml5_bright1,#xhtml5_bright2,#xhtml5_bright3,#xhtml5_bright4,#xhtml5_bright5,#xhtml5_bright6").css("fill","#FDF4C4");$("#xhtml5_number").css("fill","#FFFFFF");$("#xhtml5_shield,#xhtml5_dark1,#xhtml5_dark2,#xhtml5_dark3,#xhtml5_dark4,#xhtml5_dark5,#xhtml5_dark6,#xhtml5_dark7,#xhtml5_dark8,#xhtml5_dark9").css("fill","#F9CD19")});$("#svghumans").mouseenter(function(){$(this).css("cursor","pointer");$("#humans_form,#humans_text1,#humans_text2,#humans_text3").css("transition","fill 700ms");$("#humans_form,#humans_text1,#humans_text2,#humans_text3").css("fill","#FDF4C4")});$("#svghumans").mouseleave(function(){$(this).css("cursor","auto");$("#humans_form,#humans_text1,#humans_text2,#humans_text3").css("transition","fill 700ms");$("#humans_form,#humans_text1,#humans_text2,#humans_text3").css("fill","#F9CD19")});$("#svgccommons").click(function(a){openLink("http://creativecommons.org/licenses/by-nc-nd/3.0/deed.es_CO")});$("#svgxhtml5").click(function(a){openLink("http://validator.nu/?doc=http%3A%2F%2Fprojects.jimenezfrontend.es%2Fgalileo3d%2Fmain.xhtml&amp;showimagereport=yes&amp;showsource=yes")});$("#svghumans").click(function(a){openLink("humans.txt")})}function showText(a,b){$.ajax({type:"GET",url:"db/rooms.xml",dataType:"xml",success:function(c){$("#"+b+"1").remove();$("#"+b+"2").remove();$("#"+b+"3").remove();$(c).find("room[id="+a+"]").each(function(){var e=$(this).find("title").text();var d=$(this).find("desc").text();$('<p id="'+b+'1" class="centered-text"></p>').html(e+"<br /><br />").appendTo("#"+b);$('<p id="'+b+'2" class="justified"></p>').html(d+"<br /><br />").appendTo("#"+b);$('<p id="'+b+'3" class="centered-text"></p>').html("Haz clic para ver un recorrido").appendTo("#"+b);$("#"+b).fadeIn(700)})}})}function loadRoom(a){$.ajax({type:"GET",url:"db/rooms.xml",dataType:"xml",success:function(b){$("#video1").remove();$("#video2").remove();$("#video3").remove();$("#video4").remove();$("#thevid").remove();$(b).find("room[id="+a+"]").each(function(){var h=$(this).find("closeid").text();var e=$(this).find("textid").text();var g=$(this).find("title").text();var f=$(this).find("desc").text();var d=$(this).find("vid0").text();var c=$(this).find("vid1").text();$('<p id="video1" class="righted"></p>').html('<a href="#" id="'+h+'">Cerrar</a><br /><br />').appendTo("#video");$('<h1 id="video2"></h1>').html(g).appendTo("#video");$('<p id="video3" class="justified"></p>').html(f).appendTo("#video");$('<div id="thevid" class="videoContainer"></div>').html("").appendTo("#video");$('<video id="myVideo" controls="controls" poster="img/posters/poster.jpg" width="600" height="350"></video>').html("").appendTo("#thevid");$('<source src="'+d+'" type="video/mp4"></source>').html("").appendTo("#myVideo");$('<div class="caption"></div>').html(g).appendTo("#thevid");$('<div id="vidControl" class="control"></div>').html("").appendTo("#thevid");$('<div id="topVidControl" class="topControl"></div>').html("").appendTo("#vidControl");$('<div id="progressControl" class="progress"></div>').html("").appendTo("#topVidControl");$('<span class="bufferBar"></span>').html("").appendTo("#progressControl");$('<span class="timeBar"></span>').html("").appendTo("#progressControl");$('<div id="timeControl" class="time"></div>').html("").appendTo("#topVidControl");$('<span class="current"></span>').html("").appendTo("#timeControl");$("<span></span>").html(" / ").appendTo("#timeControl");$('<span class="duration"></span>').html("").appendTo("#timeControl");$('<div id="vidBtmControl" class="btmControl"></div>').html("").appendTo("#vidControl");$('<div class="btnPlay btn" title="Reproducir/Pausar video"></div>').html("").appendTo("#vidBtmControl");$('<div class="btnStop btn" title="Detener video"></div>').html("").appendTo("#vidBtmControl");$('<div class="spdText btn"></div>').html("Vel: ").appendTo("#vidBtmControl");$('<div class="btnx1 btn text selected" title="Avance normal"></div>').html("x3").appendTo("#vidBtmControl");$('<div class="btnx3 btn text" title="Avance x3"></div>').html("x1").appendTo("#vidBtmControl");$('<div class="btnFS btn" title="Cambio a pantalla completa"></div>').html("").appendTo("#vidBtmControl");$('<div class="btnLight lighton btn" title="Encender/Apagar luces"></div>').html("").appendTo("#vidBtmControl");$('<div id="vidVolControl" class="volume" title="Ajustar volumen"></div>').html("").appendTo("#vidBtmControl");$('<span class="volumeBar"></span>').html("").appendTo("#vidVolControl");$('<div class="sound sound2 btn" title="Silencio/Sonido"></div>').html("").appendTo("#vidBtmControl");$('<div id="vidLoaded" class="loading"></div>').html("").appendTo("#thevid");initLinks(h,e);loadVidControls()})}});$("#video").fadeIn(300)}function initLinks(b,a){$("#"+b).on("click",function(c){c.preventDefault();$(".overlay").remove();$("#video").fadeOut(700);$("#"+a).fadeOut(700);$("#shadow").css("background-color","rgba(236,236,102,0.4)");$("#shadow").css("z-index","2")})}$(document).ready(function(){initUpperPlants();initLowerPlants();initUpperRooms();initSVG()});